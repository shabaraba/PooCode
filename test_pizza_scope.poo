// ãƒ”ã‚¶å¤‰æ•°ã®ã‚¹ã‚³ãƒ¼ãƒ—ãƒ†ã‚¹ãƒˆ
// ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªðŸ•å¤‰æ•°ã‚’è¨­å®š
10 >> ðŸ•;

// åˆæœŸå€¤ã‚’ç¢ºèª
"Global ðŸ•:" |> print;
ðŸ• |> print;

// é–¢æ•°å†…ã§ã®ðŸ•å€¤
def function1(): int -> int {
    "Inside function1, ðŸ•:" |> print;
    ðŸ• |> print;
    ðŸ• + 5 >> ðŸ’©
}

// ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
20 |> function1 |> print;

// ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªðŸ•å¤‰æ•°ã®çŠ¶æ…‹ã‚’ç¢ºèª
"After function1, global ðŸ•:" |> print;
ðŸ• |> print;

// åˆ¥ã®é–¢æ•°ã§ã‚‚ç¢ºèª
def function2(): int -> int {
    "Inside function2, ðŸ•:" |> print;
    ðŸ• |> print;
    ðŸ• * 2 >> ðŸ’©
}

30 |> function2 |> print;

// ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªðŸ•å¤‰æ•°ã®çŠ¶æ…‹ã‚’å†ç¢ºèª
"After function2, global ðŸ•:" |> print;
ðŸ• |> print;

// ãƒã‚¹ãƒˆã—ãŸé–¢æ•°å‘¼ã³å‡ºã—
def outer(): int -> int {
    "Inside outer, ðŸ•:" |> print;
    ðŸ• |> print;
    
    // å†…éƒ¨ã§åˆ¥ã®å€¤ã§é–¢æ•°ã‚’å‘¼ã³å‡ºã—
    "Calling inner from outer with value 100:" |> print;
    100 |> function1 |> print;
    
    // å¤–éƒ¨é–¢æ•°ã®ðŸ•å€¤ã‚’ä½¿ç”¨
    "Back in outer, ðŸ•:" |> print;
    ðŸ• |> print;
    ðŸ• + 10 >> ðŸ’©
}

50 |> outer |> print;

// æœ€çµ‚çš„ãªã‚°ãƒ­ãƒ¼ãƒãƒ«ðŸ•å¤‰æ•°ã®çŠ¶æ…‹
"Final global ðŸ•:" |> print;
ðŸ• |> print;
